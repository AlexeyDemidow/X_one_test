# **Тестовое задание на позицию Junior Python Developer**   
   
## **API**   
### **Описание**   
API для хранения ссылок пользователя.   
### Реализованные возможности   
- Регистрация пользователя (email, пароль)   
- Смена пароля   
- Сброс пароля   
- Аутентификация 
- Пользователь имеет возможность управлять своими ссылками<br>
(создавать, редактировать, удалять, просматривать). 
- Пользователь имеет возможность управлять своими коллекциями<br>
(создавать, редактировать, удалять, просматривать)
- Документация к API в Swagger и Redoc
   
   
### Функционал   
#### Ссылки   
Ссылка включает следующие поля:   
- заголовок страницы;   
- краткое описание;   
- ссылка на страницу;   
- картинка;   
- тип ссылки (website, book, article, music, video). Если не удалось получить тип страницы то по умолчанию используем тип website. Картинка превью берется из поля og:image.   
- дата и время создания;   
- дата и время изменения.   
   
При добавлении ссылки пользователь передает только url. Остальные данные сервис получает сам.   
*Ссылки могут группироваться по коллекциям. Одна и та же ссылка может принадлежать разным коллекциям. Ссылки уникальны для пользователя.*   
#### Коллекции   
Коллекции включают следующие поля:   
- название (обязательное поле);   
- краткое описание (необязательное поле);   
- дата и время создания;   
- дата и время изменения.   
   
### **Технологии**   
- Python 3.12.3;   
- Django 5.0.4;
- Django Rest Framework 3.15.1;

---
## **Инструкция по установке и запуску** 

- Создаем виртуальную среду и в ней выполняем команду для клонирования репозитория<br>
`git clone https://github.com/AlexeyDemidow/X_one_test.git`
- Устанавливаем зависимости посредством выполнения команды<br>
`pip install -r requirements.txt`
- Выполняем миграции<br>
`python manage.py migrate`
- По желанию создаем суперпользователя для доступа к админ-панели<br>
`python manage.py createsuperuser`
- Запускаем локальный веб-сервер для тестирования<br>
- `python manage.py runserver`
- После запуска сервера переходим по ссылке `http://127.0.0.1:8000/` и откроется документация `Swagger`
- Документация `Redoc` открывается по ссылке `http://127.0.0.1:8000/api/documentation/redoc/`

---
## **Инструкция по установке и запуску в docker**
Настройки создания образа можно отредактировать в `Dockerfile`<br>
Настройки запуска контейнера можно отредактировать в `docker-compose.yml`
- Создаем образ нашего проекта выполняя команду<br>
`docker build -t docker_image_name .`
- Запускаем проект в docker выполняя команду<br>
`docker compose up`
- После запуска сервера переходим по ссылке `http://127.0.0.1/` и откроется документация `Swagger` 
- Документация `Redoc` открывается по ссылке `http://127.0.0.1/api/documentation/redoc/`

---

## **SQL**
### **Описание**   
*SQL запрос*, который выводит 10 пользователей с максимальным количеством сохраненных ссылок, если количество ссылок одинаково у нескольких пользователей, выводит тех, кто раньше был зарегистрирован.
<br>
<br>
Код SQL-запроса находится в файле `SQL_test.sql`
<br>
<br>
Для генерации и заполнения базы данных пользователями можно использовать скрипт<br>
`sql_test_script_users_gen.py`
<br>
<br>
Для заполнения базы данных ссылками можно использовать скрипт<br>
`sql_test_script_links_gen.py`

---